package com.droidlogic.launcher.util;import android.content.BroadcastReceiver;import android.content.Context;import android.content.Intent;import android.content.IntentFilter;public class AppStateChangeListener {    private final Context context;    private final BroadcastReceiver appReceiver;    private boolean broadcastsRegisteredApp = false;    public AppStateChangeListener(Context context, BroadcastReceiver appReceiver) {        this.context = context;        this.appReceiver = appReceiver;    }    public void registerReceiver() {        if (!broadcastsRegisteredApp) {            IntentFilter filter = new IntentFilter(Intent.ACTION_PACKAGE_ADDED);            filter.addAction(Intent.ACTION_PACKAGE_REMOVED);            filter.addAction(Intent.ACTION_PACKAGE_CHANGED);            filter.addDataScheme("package");            context.registerReceiver(appReceiver, filter);            broadcastsRegisteredApp = true;        }    }    public void unregisterReceiver() {        if (broadcastsRegisteredApp) {            context.unregisterReceiver(appReceiver);            broadcastsRegisteredApp = false;        }    }}